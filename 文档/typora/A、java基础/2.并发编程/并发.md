# 一、进程与线程

## 1.1 进程

程序由指令和数据组成。这些指令要运行，数据要读写，就必须将指令加载到CPU，数据加载到内存。
在指令运行过程中还需要用到磁盘、网络等设备。
进程就是用来加载指令、管理内存、管理IO的。

当一个程序被运行，从磁盘加载这个程序到内存，这时就开启了一个进程

进程可以视为程序的一个实例。

## 1.2 线程

一个进程可以拥有多个线程，但一个线程只能属于一个进程。

一个线程就是一个指令流，将指令流中的一条条指令以一定的顺序交给CPU执行

java中，线程作为资源调度的最小单位，进程作为资源分配的最小单位。
在windows中进程是不活动的，只是作为线程的容器。

## 1.3 对比

1. 进程基本上互相独立，而线程存在于进程中，是进程的一个子集

2. 进程拥有共享的资源，如内存空间等，供期内部的线程共享

3. 进程间通信较为复杂

     同一台计算机的进程通信称为IPC
    不同计算机的进程通信，需要通过网络，并遵守相同的协议，如http

4. 线程通信相对简单，内部共享进程的内存，可以访问同一个共享变量

5. 线程更轻量，切换上下文代价比进程小

## 1.4 并发与并行

**并发** (concurrent) 是同一时间应对（dealing with）多件事情的能力

**并行** (parallel) 是同一时间动手做（doing）多件事情的能力 

## 1.5 查看 or 杀死 运行线程

**windows**

​	tasklist  [| findStr java]

​	taskkill  /F /PID  <pid>

**java**

​	jps 查看所有java进程

​	jstack <PID> 查看某个java进程的所有线程状态

​	jconsole 查看某个java进程中线程的运行情况

**linux**

​	ps -ef  查看所有进程
​	ps -fT -p <PID> 查看某个进程
​	top -H -p <PID> 查看进程下所有的线程

# 二、基础

## 2.1 sleep与yield

sleep

1. 线程状态由running -> timed waiting -> runnable
2. 其他线程可中断其睡眠，使其抛出InterruptedException异常
3. 建议使用TimeUnit的sleep代替Thread的sleep来获得更好的可读性

yield

	1. 线程状态由running -> runnable

## 2.2 两阶段中止模式

 































